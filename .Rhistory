##this is a markdown file
poluttantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
complete <- function(directory, id=1:332) {
t(sapply(id, fn, directory))}
fn <- function(id, directory) {
zero <- sprintf("%03d", id)
name <- paste(directory,"/",zero,".csv",sep="")
frame <- read.csv(name)
ok <- complete.cases(frame)
return(c("nobs"=sum(ok),"id"=id)) }
complete("specdata", 30:25)
complete <- function(directory, id = 1:332) {
as.data.frame(t(sapply(id, fn, directory)))
}
fn <- function(id, directory){
if(is.numeric(id)){
id=id
}else{
id = as.numeric(id)
}
fileName  <- paste(paste(directory,'/',sep=''),paste(id,'.csv',sep=''),sep='')
data  <- read.csv(fileName )
tows <- (complete.cases(data))
rowsNum <- nrow(data[tows,])
return(c("id"=as.numeric(id),"nobs"=rowsNum))
}
complete("specdata", 30:25)
getwd()
